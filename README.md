# Imperium
帝國是一個基於 PHP 的權限管理類別，然而，一個帝國並不是這麼好管理的，

如果這個類別對你來說並不滿意，你可以參考 [Authority（已廢棄）](https://github.com/machuga/authority) 或 [Lock](https://github.com/BeatSwitch/lock)。

**閱讀這份文件，你需要有一定的英文基礎。**

**但是我們已經將基本用法翻譯成中文，你當然可以照做，但是我們希望你撰寫程式時，還是只有英文。**

&nbsp;

## 特色

1.

&nbsp;

## 索引

&nbsp;

## 舉例

當你建立了一個帝國後，你可以新增很多群組

&nbsp;

## 檢查和設置權限

通常一個權限會有兩個設置，第一個是動作，第二個是種類，

例如「建立」（動作）「文章」（種類）。

&nbsp;

### 檢查權限

首先你要先知道如何檢查權限，這樣在接下來的步驟中，

才能更好的讓你知道做了什麼，會讓什麼權限被移除。

透過 `can()` 來得到一個布林值，用來確認是否有無權限。

```php
/** 可以執行「建立」這個動作嗎？ */
->can('建立')

/** 可以「建立」「文章」嗎？ */
->can('建立', '文章')

/** 可以「編輯」編號為 5 的「文章」嗎？ */
->can('編輯', '文章', 5)
```

&nbsp;

現在你清楚如何確認自己是否有權限了，你可以將他應用在你的條件式中：

```php
if($imper->can('建立', '文章'))
{
    .. 程式 ..
}
```

&nbsp;

### 設置權限

透過 `allow()` 或 `deny()` 來允許和拒絕這個角色可以執行的動作。

&nbsp;

#### 允許和禁止動作

你可以禁止或允許一個角色**完全不能做什麼**。

```php
/** 允許所有「建立」的動作 */
$imper->allow('建立');

$imper->can('建立', '文章'); // true

/** 禁止所有「建立」的動作 */
$imper->deny('建立');

$imper->can('建立', '文章'); // false
```

&nbsp;

#### 允許和禁止種類

假設你想要禁止一個角色去建立**文章**，而不是禁止任何有關「建立」的這個動作，

**你就必須在「動作」後新增一個種類**。

```php
/** 允許「建立」「文章」*/
$imper->allow('建立', '文章');

$imper->can('建立'); // false
$imper->can('建立', '文章'); // true


/** 禁止「建立」「文章」*/
$imper->deny('建立', '文章');
```

#### 允許和禁止特定編號

倘若你要指定的更仔細，例如你希望使用者**只可以編輯編號 5 的文章而非所有文章**：

```php
/** 允許「編輯」編號為 5 的「文章」*/
$imper->allow('編輯', '文章', 5);

$imper->can('編輯'); // false
$imper->can('編輯', '文章'); // false
$imper->can('編輯', '文章', 5); // true


/** 禁止「編輯」編號為 5 的「文章」*/
$imper->deny('編輯', '文章', 5);
```
